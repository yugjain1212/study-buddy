import{u as d,r as i,j as e,t as n}from"./index-Bpmg-vmN.js";import{u as p,B as g,s as x}from"./useAuth-B7xzxMws.js";import{B as h}from"./book-open-BtRnualg.js";import{L as v}from"./AuthGuard-DoTSIcZu.js";const w=()=>{const{signOut:l,user:r}=p(),c=d(),[t,m]=i.useState(null);i.useEffect(()=>{(async()=>{if(r)try{const{data:s,error:a}=await x.from("profiles").select("full_name").eq("id",r.id).single();if(a&&a.code!=="PGRST116"){console.error("Error fetching profile:",a);return}m(s)}catch(s){console.error("Error fetching user profile:",s)}})()},[r]);const u=async()=>{try{await l(),n({title:"Logged out",description:"You have been successfully logged out."}),c("/")}catch(o){console.error("Logout error:",o),n({title:"Logout failed",description:"There was an error logging out. Please try again.",variant:"destructive"})}},f=()=>t!=null&&t.full_name?t.full_name:r!=null&&r.email?r.email.split("@")[0]:"User";return e.jsx("div",{className:"border-b border-primary/20 glass-effect-strong",children:e.jsxs("div",{className:"flex h-16 items-center px-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 button-gradient rounded-lg flex items-center justify-center ambient-glow hover-lift",children:e.jsx(h,{className:"w-4 h-4 text-primary-foreground"})}),e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary via-purple-400 to-pink-400 bg-clip-text text-transparent animate-gradient",children:"Study Buddy AI"})]}),e.jsxs("div",{className:"ml-auto flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",e.jsx("span",{className:"text-primary font-medium",children:f()})]}),e.jsxs(g,{variant:"outline",size:"sm",onClick:u,className:"gap-2 glass-effect border-primary/30 hover:bg-primary/10 hover-lift focus-ring",children:[e.jsx(v,{className:"w-4 h-4"}),"Logout"]})]})]})})};export{w as A};
